<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <title>Board</title>
    <link type="text/css" rel="stylesheet" th:href="@{/css/board.css}">
    <!--    //ruined everything-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="fontawesome-free-5.15.1-web/css/all.css">
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" href="css/myboards.css">
    <link type="text/css" rel="stylesheet" th:href="@{/css/board.css}">
    <script src="https://kit.fontawesome.com/9e5d1913ca.js" crossorigin="anonymous"></script>

</head>

<body >
<nav th:replace="fragments/navfrag :: nav"></nav>


<h3>Section form</h3>


<form th:action="@{/newSection/{id}(id=${boardList.id})}" method="post">
    <input type="text" name="title"/>
    <input  class="bi bi-plus-circle-fill" type="submit" value="+" />
</form>




<!--check app.pro-->
<div class="space-edge">
    <div class="d-flex gap flex-wrap flex-center" >

<div class="card-container" th:each="sec1 : ${sec2}" style="max-width: 18rem; ">

<!--    <div class="card border-primary mb-3"  >-->
        <div  class="card border-primary">
        <div  class="card-header"   th:text="${sec1.title}">

        <form method="get" th:action="@{/deleteSection/{id}(id=${boardList.id})}">
            <input type="hidden" th:value="${sec1.id}" name="secId">
            <input type="submit" value="-">
        </form>
        </div>

    <div class="card-body text-primary" >
           <form th:action="@{/newTask/{id}(id=${sec1.id})}" method="post">
            <input type="text" name="taskName"/>
               <input type="text" name="description"/>
            <input  type="submit" value="+"/>

            </form>
       <div  th:each=" task : ${sec1.getTaskList()}" >

           <h5 class="card-title"> taskName : <span th:text="${task.taskName}"></span></h5>
           <p class="card-text"> description : <span th:text="${task.description}"></span></p>
           <form method="get" th:action="@{/deleteTask/{id}(id=${boardList.id})}">
               <input type="hidden" th:value="${task.id}" name="taskId">
               <input type="submit" value="-">
           </form>


           <form method="get" th:action="@{/moveNext/{id}(id=${boardList.id})}" th:unless="${lastSec==sec1}" >
               <input type="hidden" th:value="${sec1.id}" name="sectionId">
               <input type="hidden" th:value="${task.id}" name="taskId">
               <input type="submit" value=">">
           </form>
           <form method="get" th:action="@{/moveBack/{id}(id=${boardList.id})}" th:unless="${firstSec==sec1}" >
               <input type="hidden" th:value="${sec1.id}" name="sectionId">
               <input type="hidden" th:value="${task.id}" name="taskId">
               <input type="submit" value="<">
           </form>



       </div>
        </div>


    </div>
 </div>
</div>
</div>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script th:src="@{/app.js}"></script>
</body>
</html>


